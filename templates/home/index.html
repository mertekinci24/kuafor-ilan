{% extends 'base.html' %}

{% block title %}Kuaför İlan - Türkiye'nin En Büyük Kuaför İş Platformu{% endblock %}

{% block extra_css %}
<style>
    /* Ana Sayfa Özel Stilleri */
    .hero-section {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 80px 0;
        margin-top: -70px;
        padding-top: 150px;
        position: relative;
        overflow: hidden;
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 300px;
        height: 300px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        transform: translate(50%, -50%);
    }

    .hero-content {
        position: relative;
        z-index: 2;
        text-align: center;
    }

    .hero-title {
        font-size: 3.5rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .hero-subtitle {
        font-size: 1.25rem;
        margin-bottom: 2rem;
        opacity: 0.9;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.6;
    }

    .hero-stats {
        display: flex;
        justify-content: center;
        gap: 3rem;
        margin-top: 3rem;
        flex-wrap: wrap;
    }

    .hero-stat {
        text-align: center;
    }

    .hero-stat-number {
        font-size: 2.5rem;
        font-weight: 800;
        display: block;
        margin-bottom: 0.5rem;
    }

    .hero-stat-label {
        opacity: 0.8;
        font-size: 0.9rem;
    }

    .search-section {
        background: white;
        padding: 2rem;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-top: 3rem;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
    }

    .search-form {
        display: grid;
        grid-template-columns: 1fr auto auto;
        gap: 1rem;
        align-items: end;
    }

    .search-input {
        padding: 1rem 1.5rem;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 1rem;
        transition: var(--transition);
    }

    .search-input:focus {
        outline: none;
        border-color: var(--primary-color);
        box-shadow: 0 0 0 3px rgba(10, 102, 194, 0.1);
    }

    .search-select {
        padding: 1rem 1.5rem;
        border: 2px solid #e2e8f0;
        border-radius: 12px;
        font-size: 1rem;
        background: white;
        min-width: 150px;
    }

    .search-btn {
        padding: 1rem 2rem;
        background: var(--gradient-primary);
        color: white;
        border: none;
        border-radius: 12px;
        font-weight: 600;
        cursor: pointer;
        transition: var(--transition);
        font-size: 1rem;
    }

    .search-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(10, 102, 194, 0.3);
    }

    /* Sections */
    .section {
        padding: 80px 0;
    }

    .section-title {
        text-align: center;
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 1rem;
        color: var(--text-color);
    }

    .section-subtitle {
        text-align: center;
        font-size: 1.1rem;
        color: var(--text-muted);
        margin-bottom: 3rem;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }

    /* Kategoriler */
    .categories-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
    }

    .category-card {
        background: white;
        padding: 2rem;
        border-radius: 16px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        text-align: center;
        transition: var(--transition);
        border: 1px solid var(--border-color);
        text-decoration: none;
        color: inherit;
    }

    .category-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        color: inherit;
    }

    .category-icon {
        width: 60px;
        height: 60px;
        background: var(--gradient-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        color: white;
        margin: 0 auto 1rem;
    }

    .category-name {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
    }

    .category-description {
        color: var(--text-muted);
        font-size: 0.9rem;
    }

    /* İş İlanları */
    .jobs-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
    }

    .job-card {
        background: white;
        padding: 1.5rem;
        border-radius: 16px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        transition: var(--transition);
        border: 1px solid var(--border-color);
        text-decoration: none;
        color: inherit;
        display: block;
    }

    .job-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
        color: inherit;
    }

    .job-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1rem;
    }

    .job-company {
        width: 50px;
        height: 50px;
        background: var(--gradient-primary);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        font-size: 1.2rem;
    }

    .job-badge {
        background: #fef3c7;
        color: #d97706;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 0.75rem;
        font-weight: 600;
    }

    .job-title {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        color: var(--text-color);
    }

    .job-company-name {
        color: var(--text-muted);
        margin-bottom: 1rem;
        font-size: 0.9rem;
    }

    .job-details {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
    }

    .job-detail {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        font-size: 0.85rem;
        color: var(--text-muted);
    }

    .job-salary {
        background: #f0f9ff;
        color: var(--primary-color);
        padding: 0.5rem 1rem;
        border-radius: 8px;
        font-weight: 600;
        margin-top: 1rem;
        text-align: center;
    }

    /* CTA Section */
    .cta-section {
        background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
        text-align: center;
    }

    .cta-buttons {
        display: flex;
        justify-content: center;
        gap: 1rem;
        margin-top: 2rem;
        flex-wrap: wrap;
    }

    .cta-btn {
        padding: 1rem 2rem;
        border-radius: 12px;
        font-weight: 600;
        text-decoration: none;
        transition: var(--transition);
        font-size: 1rem;
        min-width: 200px;
    }

    .cta-btn-primary {
        background: var(--gradient-primary);
        color: white;
    }

    .cta-btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(10, 102, 194, 0.3);
        color: white;
    }

    .cta-btn-outline {
        background: transparent;
        color: var(--primary-color);
        border: 2px solid var(--primary-color);
    }

    .cta-btn-outline:hover {
        background: var(--primary-color);
        color: white;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
        }

        .hero-stats {
            gap: 2rem;
        }

        .search-form {
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .section {
            padding: 60px 0;
        }

        .section-title {
            font-size: 2rem;
        }

        .categories-grid {
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .jobs-grid {
            grid-template-columns: 1fr;
            gap: 1rem;
        }

        .cta-buttons {
            flex-direction: column;
            align-items: center;
        }
    }

    @media (max-width: 480px) {
        .hero-title {
            font-size: 2rem;
        }

        .hero-stats {
            flex-direction: column;
            gap: 1rem;
        }

        .job-details {
            flex-direction: column;
            gap: 0.5rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <div class="hero-content">
            <h1 class="hero-title">Türkiye'nin En Büyük<br>Kuaför İş Platformu</h1>
            <p class="hero-subtitle">
                Hayalinizdeki kuaförlük kariyerini bulun veya işletmeniz için en yetenekli kuaförleri keşfedin. 
                Binlerce iş fırsatı ve profesyonel bir sektörün buluşma noktası.
            </p>

            <!-- Arama Bölümü -->
            <div class="search-section">
                <form class="search-form" action="{% url 'jobs:list' %}" method="GET">
                    <input type="text" name="search" class="search-input" placeholder="İş ara... (örn: kadın kuaförü, saç stilisti)">
                    <select name="city" class="search-select">
                        <option value="">Şehir Seçin</option>
                        <option value="Istanbul">İstanbul</option>
                        <option value="Ankara">Ankara</option>
                        <option value="İzmir">İzmir</option>
                        <option value="Bursa">Bursa</option>
                        <option value="Antalya">Antalya</option>
                    </select>
                    <button type="submit" class="search-btn">
                        <i class="fas fa-search"></i> Ara
                    </button>
                </form>
            </div>

            <!-- İstatistikler -->
            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="hero-stat-number">{{ total_jobs|default:0 }}</span>
                    <span class="hero-stat-label">Aktif İş İlanı</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">{{ total_companies|default:0 }}</span>
                    <span class="hero-stat-label">Kayıtlı İşletme</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">{{ total_categories|default:0 }}</span>
                    <span class="hero-stat-label">Kategori</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">1000+</span>
                    <span class="hero-stat-label">Başarılı Eşleşme</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Kategoriler -->
<section class="section">
    <div class="container">
        <h2 class="section-title">Popüler Kategoriler</h2>
        <p class="section-subtitle">
            Kuaförlük sektörünün farklı alanlarında kariyer fırsatlarını keşfedin
        </p>

        <div class="categories-grid">
            {% for category in categories %}
            <a href="{% url 'jobs:list' %}?category={{ category.id }}" class="category-card">
                <div class="category-icon">
                    <i class="fas fa-cut"></i>
                </div>
                <div class="category-name">{{ category.name }}</div>
                <div class="category-description">{{ category.description|default:"Profesyonel kariyer fırsatları" }}</div>
            </a>
            {% empty %}
            <div class="category-card">
                <div class="category-icon">
                    <i class="fas fa-cut"></i>
                </div>
                <div class="category-name">Kadın Kuaförü</div>
                <div class="category-description">Kadın kuaförlüğü pozisyonları</div>
            </div>
            <div class="category-card">
                <div class="category-icon">
                    <i class="fas fa-user-tie"></i>
                </div>
                <div class="category-name">Erkek Berberi</div>
                <div class="category-description">Erkek berberliği pozisyonları</div>
            </div>
            <div class="category-card">
                <div class="category-icon">
                    <i class="fas fa-palette"></i>
                </div>
                <div class="category-name">Saç Stilisti</div>
                <div class="category-description">Saç stilistliği pozisyonları</div>
            </div>
            <div class="category-card">
                <div class="category-icon">
                    <i class="fas fa-spa"></i>
                </div>
                <div class="category-name">Güzellik Uzmanı</div>
                <div class="category-description">Güzellik uzmanlığı pozisyonları</div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Öne Çıkan İş İlanları -->
<section class="section" style="background: #f8fafc;">
    <div class="container">
        <h2 class="section-title">Öne Çıkan İş İlanları</h2>
        <p class="section-subtitle">
            En yeni ve popüler iş fırsatlarını kaçırmayın
        </p>

        <div class="jobs-grid">
            {% for job in featured_jobs %}
            <a href="{% url 'jobs:detail' job.id %}" class="job-card">
                <div class="job-header">
                    <div class="job-company">
                        {{ job.business.first_name|first|upper }}{{ job.business.last_name|first|upper }}
                    </div>
                    {% if job.is_urgent %}
                        <div class="job-badge">Acil</div>
                    {% endif %}
                </div>
                
                <div class="job-title">{{ job.title }}</div>
                <div class="job-company-name">{{ job.business.get_full_name|default:job.business.email }}</div>
                
                <div class="job-details">
                    <div class="job-detail">
                        <i class="fas fa-map-marker-alt"></i>
                        {{ job.city }}{% if job.district %}, {{ job.district }}{% endif %}
                    </div>
                    <div class="job-detail">
                        <i class="fas fa-tag"></i>
                        {{ job.category.name }}
                    </div>
                    <div class="job-detail">
                        <i class="fas fa-clock"></i>
                        {{ job.created_at|timesince }} önce
                    </div>
                </div>
                
                {% if job.salary_min and job.salary_max %}
                <div class="job-salary">
                    ₺{{ job.salary_min|floatformat:0 }} - ₺{{ job.salary_max|floatformat:0 }}
                </div>
                {% else %}
                <div class="job-salary">
                    Maaş Görüşülür
                </div>
                {% endif %}
            </a>
            {% empty %}
            <div class="col-12 text-center">
                <p class="text-muted">Henüz iş ilanı bulunmuyor.</p>
                <a href="{% url 'jobs:list' %}" class="btn btn-primary mt-3">Tüm İlanları Görüntüle</a>
            </div>
            {% endfor %}
        </div>

        {% if featured_jobs %}
        <div class="text-center mt-4">
            <a href="{% url 'jobs:list' %}" class="btn btn-outline btn-lg">
                Tüm İş İlanlarını Görüntüle
                <i class="fas fa-arrow-right ml-2"></i>
            </a>
        </div>
        {% endif %}
    </div>
</section>

<!-- Call to Action -->
<section class="cta-section section">
    <div class="container">
        <h2 class="section-title">Hemen Başlayın</h2>
        <p class="section-subtitle">
            Kariyerinizi bir adım öteye taşıyın veya işletmeniz için ideal çalışanları bulun
        </p>

        <div class="cta-buttons">
            {% if user.is_authenticated %}
                {% if user.user_type == 'jobseeker' %}
                    <a href="{% url 'jobs:list' %}" class="cta-btn cta-btn-primary">
                        <i class="fas fa-search"></i>
                        İş Ara
                    </a>
                    <a href="{% url 'profiles:profile_detail' user.username %}" class="cta-btn cta-btn-outline">
                        <i class="fas fa-user"></i>
                        Profilimi Güncelle
                    </a>
                {% elif user.user_type == 'business' %}
                    <a href="#" class="cta-btn cta-btn-primary" onclick="App.showToast('İlan verme özelliği yakında!', 'info')">
                        <i class="fas fa-plus"></i>
                        İlan Ver
                    </a>
                    <a href="{% url 'dashboard:home' %}" class="cta-btn cta-btn-outline">
                        <i class="fas fa-tachometer-alt"></i>
                        Dashboard
                    </a>
                {% endif %}
            {% else %}
                <a href="{% url 'auth:register' %}?user_type=jobseeker" class="cta-btn cta-btn-primary">
                    <i class="fas fa-user-plus"></i>
                    İş Arayan Olarak Kayıt Ol
                </a>
                <a href="{% url 'auth:register' %}?user_type=business" class="cta-btn cta-btn-outline">
                    <i class="fas fa-building"></i>
                    İş Veren Olarak Kayıt Ol
                </a>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Smooth scroll effect for hero section
    document.addEventListener('DOMContentLoaded', function() {
        // Add animation to stats on scroll
        const stats = document.querySelectorAll('.hero-stat-number');
        
        const animateNumbers = () => {
            stats.forEach(stat => {
                const target = parseInt(stat.textContent);
                if (target && !stat.hasAttribute('data-animated')) {
                    stat.setAttribute('data-animated', 'true');
                    let current = 0;
                    const increment = target / 50;
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            current = target;
                            clearInterval(timer);
                        }
                        stat.textContent = Math.floor(current);
                    }, 30);
                }
            });
        };

        // Trigger animation when hero section is visible
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    setTimeout(animateNumbers, 500);
                    observer.unobserve(entry.target);
                }
            });
        });

        const heroSection = document.querySelector('.hero-section');
        if (heroSection) {
            observer.observe(heroSection);
        }

        // Add hover effects to job cards
        document.querySelectorAll('.job-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-8px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(-4px)';
            });
        });
    });
</script>
{% endblock %}
